@{
    ViewBag.Title = "Account Management";
}

<head>
    <link href="~/css/accmng.css" rel="stylesheet" />
</head>

<body>
    <div class="popup-overlay ftco-animate" id="popupOverlay" onclick="closePopup()"></div>

    <!-- Popup for Account Details -->
    <div class="popup-overlay" id="popupOverlay" onclick="closePopup()"></div>

    <div class="popup" id="infoPopup">
        <div class="popup-header">
            <h3 id="popupTitle">Account Details</h3>
            <span class="popup-close" onclick="closePopup()">×</span>
        </div>
        <form id="accountForm">
            <table class="Info">
                <tbody id="infoTableBody">
                    <tr>
                        <td><strong>Status</strong></td>
                        <td>
                            <select id="status">
                                <option value="1">Active</option>
                                <option value="0">Unactive</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Username</strong></td>
                        <td><input type="text" id="username" readonly></td>
                    </tr>
                    <tr>
                        <td><strong>Password</strong></td>
                        <td><input type="password" id="password" readonly></td>
                    </tr>
                    <tr>
                        <td><strong>User's Name</strong></td>
                        <td><input type="text" id="name" readonly></td>
                    </tr>
                    <tr>
                        <td><strong>Phone Number</strong></td>
                        <td><input type="text" id="phone" readonly></td>
                    </tr>
                    <tr>
                        <td><strong>Address</strong></td>
                        <td><input type="text" id="address" readonly></td>
                    </tr>
                    <tr>
                        <td><strong>Gender</strong></td>
                        <td>
                            <select id="gender">
                                <option value="1">Male</option>
                                <option value="0">Female</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Email</strong></td>
                        <td><input type="text" id="email" readonly></td>
                    </tr>
                    <tr>
                        <td><strong>Role</strong></td>
                        <td>
                            <select id="roleId">
                                <option value="1">Manager</option>
                                <option value="2">Order Taker</option>
                                <option value="3">Procurement Manager</option>
                                <option value="4">Server Staff</option>
                                <option value="5">Customer Service Staff</option>
                                <option value="6">Food Runner</option>
                                <option value="7">Customer</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div style="margin-top: 15px; display: flex; flex-direction: row; justify-content: space-between;">
                <button type="button" onclick="updateAccount()" id="updateButton">Update</button>
                <button type="button" onclick="manageStatus()" id="blockButton">Status</button>
                <button type="button" onclick="deleteAccount()" id="deleteButton">Delete</button>
            </div>
        </form>
    </div>

    <!-- Popup for Creating New Account -->
    <div class="popup-overlay" id="createPopupOverlay" onclick="closeCreatePopup()"></div>

    <div class="popup" id="createPopup">
        <div class="popup-header">
            <h3>Create New Account</h3>
            <span class="popup-close" onclick="closeCreatePopup()">×</span>
        </div>
        <form id="createForm">
            <table class="Info">
                <tbody>
                    <tr>
                        <td><strong>Username</strong></td>
                        <td><input type="text" id="newUsername" required></td>
                    </tr>
                    <tr>
                        <td><strong>Password</strong></td>
                        <td><input type="password" id="newPassword" required></td>
                    </tr>
                    <tr>
                        <td><strong>Gender</strong></td>
                        <td>
                            <select id="newGender">
                                <option value="1">Male</option>
                                <option value="0">Female</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Phone Number</strong></td>
                        <td><input type="text" id="newPhone" required></td>
                    </tr>
                    <tr>
                        <td><strong>Address</strong></td>
                        <td><input type="text" id="newAddress" required></td>
                    </tr>
                    <tr>
                        <td><strong>Email</strong></td>
                        <td><input style="width: 100%;" type="email" id="newEmail" required></td>
                    </tr>
                    <tr>
                        <td><strong>Role</strong></td>
                        <td>
                            <select id="newRole">
                                <option value="1">Manager</option>
                                <option value="2">Order Taker</option>
                                <option value="3">Procurement Manager</option>
                                <option value="4">Server Staff</option>
                                <option value="5">Customer Service Staff</option>
                                <option value="6">Food Runner</option>
                                <option value="7">Customer</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div style="margin-top: 15px; display: flex; flex-direction: row; justify-content: flex-end;">
                <button type="button" onclick="createNewAccount()" id="createButton">Create</button>
            </div>
        </form>
    </div>

    <div class="AccountBody ftco-animate">
        <div class="AccountFunction">
            <div class="AccountSearch ftco-animate ">
                <input id="search" type="search" placeholder="Search..." autofocus required
                    oninput="searchAccounts()" />
            </div>
            <div class="AccountCreate ftco-animate">
                <button onclick="showCreatePopup()">Create</button>
            </div>
        </div>

        <div class="AccountView ftco-animate">
            <div class="AccountList">
                <table class="List">
                    <thead>
                        <tr>
                            <th>Status</th>
                            <th>Username</th>
                            <th>Password</th>
                            <th>User's Name</th>
                            <th>Phone Number</th>
                            <th>Address</th>
                            <th>Gender</th>
                            <th>Email</th>
                            <th>Role</th>
                        </tr>
                    </thead>
                    <tbody id="accountTableBody">
                        <!-- Account rows will be dynamically inserted here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="footer"></div>
    <script src="~/js/Accmng.js"></script>
</body>